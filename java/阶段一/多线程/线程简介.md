# 线程简介

## 多任务

1. 吃饭时候玩手机
2. 开车打电话
3. 上厕所时玩手机

这些事情看似同时在做，实际大脑在同一时刻只做了一件事，比如，这一秒在吃饭，下一秒在看手机。

## 多线程

- 马路的车道数就是一个多线程在生活中的实例，车道少的时候只能允许一辆车形式，增加车道数可以新增同时行进的车辆，实现了多线程的思路，同一时间多辆车同时行驶。
- main()方法是一个主线程，只能同时执行一件事情，在调用其他方法时后面的代码是执行不了的，只有等待调用结束后才能继续往下执行。

## 普通方法和多线程

普通方法只用主线程一条执行路径，而多线程有多条执行路径，主线程和子线程并行交替执行。

## 程序.进程.线程

- 程序是指令和数据的有序集合，本身没有任何运行的含义，是一个静态的概念，比如QQ，播放器，游戏，IDE工具等

- 进程是指程序启动后产生了一个进程，是执行程序的一次执行过程，它是一个动态的概念，是系统资源分配的单位

- 通常一个进程中可以包括多个线程，当然一个进程中至少有一个线程，不然没有存在的意义。线程是CPU调度和执行的单位。

  > 注意：很多多线程是模拟出来的，真正的多线程是指有多个CPU，既多核，如服务器。如果是模拟出来的多线程，既在一个cpu的情况下，在同一时间点，cpu只能执行一个代码，因为切换的很快，所以就有同事执行的错觉。

  

## 本章核心概念

- 线程就是独立执行的路径；
- 在程序运行时，即使没有自己创建线程，后台也会有多个线程，如主线程，gc线程;
- main()称之为主线程，为系统的入口，用于执行整个程序；
- 在一个进程中，如果开辟了多个线程，线程的进行由调度器安排调度（cpu）调度器是与操作系统紧密相关的，先后顺序是不能进行人为干预的；
- 对同一份资源操作时，会存在资源抢夺的问题，需要加入并发控制；
- 线程会带来额外的开销，如cpu调度时间，并发控制开销。
- 每个线程在自己的工作内存交互，内存控制不当会造成数据不一致。





